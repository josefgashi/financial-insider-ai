<style>
  #ticker-bar {
    background: #f5f3ee;
    border-bottom: 1px solid #d1cdc7;
    display: flex;
    gap: 30px;
    padding: 10px 20px;
    font-family: Georgia, serif;
    font-size: 14px;
    white-space: nowrap;
    overflow-x: auto;
  }
  .ticker-item.up { color: #0a8f35; }
  .ticker-item.down { color: #c40000; }
</style>

<div id="ticker-bar">
  Loading stocksâ€¦
</div>

<script>
async function loadTicker() {
  const symbols = ["^GSPC", "^DJI", "QQQ", "^VIX", "AAPL", "MSFT"];
  const url = `https://query1.finance.yahoo.com/v7/finance/quote?symbols=${symbols.join(",")}`;

  try {
    const res = await fetch(url);
    const data = await res.json();

    const items = data.quoteResponse.result.map(stock => {
      const change = stock.regularMarketChangePercent || 0;
      const dir = change >= 0 ? "up" : "down";
      return `
        <div class="ticker-item ${dir}">
          <strong>${stock.symbol}</strong>&nbsp;
          ${stock.regularMarketPrice.toFixed(2)}&nbsp;
          (${change.toFixed(2)}%)
        </div>
      `;
    });

    document.getElementById("ticker-bar").innerHTML = items.join("");
  } catch (err) {
    document.getElementById("ticker-bar").innerText = "Error loading data";
  }
}

loadTicker();
setInterval(loadTicker, 60000); // refresh every 1 min
</script>
